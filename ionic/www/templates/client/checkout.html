<ion-view>
  <ion-nav-title>Products</ion-nav-title>
  <div class="bar bar-subheader">
    <button class="button button-icon ion-plus" 
      ng-click="openListProducts()">
    </button>
    <h2 class="title">Total: $ {{ total }}</h2>
    <button class="button button-clear icon button-dark ion-minus-circled" 
      ng-click="showDelete = !showDelete"
      ng-class="{'button-assertive': showDelete, 'button-dark': !showDelete}">
    </button>
  </div>
  <ion-content class="padding has-subheader">
    <ion-list show-delete="showDelete">
      <ion-item class="item-balanced item-icon-left" ng-show="coupon.value != null">
        <span class="icon ion-close" ng-click="removeCoupon()"></span>
        <strong>Coupon</strong>
        <span class="badge badge-balanced">- $ {{ coupon.value }}</span>
      </ion-item>
    
      <ion-item ng-repeat="item in items" ng-click="openProductDetail($index)">
        <h2>{{ item.name }}</h2>
        
        <div class="row">
          <div class="col">
            Qty: {{ item.qty }} <br />
            <i class="ion ion-cash"> {{ item.price }}</i>
          </div>
          <div class="col text-right">
            <i class="ion ion-social-usd"> {{ item.qty * item.price }}</i>
          </div>
        </div>

        <ion-delete-button class="ion ion-minus-circled" ng-click="removeItem($index)">
        </ion-delete-button>
      </ion-item>
    </ion-list>
    
    <button type="button" 
      class="button button-calm button-full" 
      ng-click="readBarCode()" 
      ng-disabled="coupon.value != null">
        Add coupon
    </button>
    <button type="button" class="button button-balanced button-full" ng-click="saveOrder()">
      Save order
    </button>
  </ion-content>
</ion-view>